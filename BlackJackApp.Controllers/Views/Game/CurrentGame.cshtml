@model BlackJackApp.Services.RoundGameViewModel

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">


@Scripts.Render("~/scripts/jquery-1.10.2.min.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.min.js")

<div style="text-align:right">
    <div id="playerTable">
        @{Html.RenderPartial("StartRoundForPlayers", Model);}
    </div>

    <div id="dealerTable">
        @{Html.RenderPartial("StartRoundForDealer", Model);}
    </div>
</div>
<div id="enough" style="text-align:center">
    @using (Html.BeginForm("StartRoundForDealer", "Game", FormMethod.Post))
    {
        @Html.HiddenFor(r => Model.GameId)
        <div id="result">
            @Html.HiddenFor(r => Model.isResultComplete)
        </div>
        <input type="submit" value="enough" id="takeButton" />
    }
</div>
<div id="take" style="text-align:center">
    @using (Ajax.BeginForm("StartRoundForPlayers", "Game", new AjaxOptions
    {
        UpdateTargetId = "playerTable",
        HttpMethod = "Post",
        OnSuccess = "OnSuccess",
    }))
    {
        @Html.HiddenFor(r => Model.GameId)
        @Html.HiddenFor(r => Model.isResultComplete)
        <input type="submit" value="take" id="enoughButton" />
    }
</div>

<script type="text/javascript">
    function OnSuccess(data) {
        if (data.result) {
            window.location.href = data.url;
        }
    }
</script>

<script>
    $("#takeButton").kendoButton();
    $("#enoughButton").kendoButton();
</script>

<style>
    div {
        padding-bottom: .7em;
    }
</style>




